<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PLAYTECH</title>
  <link rel="stylesheet" href="src/styles.css" />
</head>
<body>
  <header id="top-banner">
    <a href="index.html" class="logo">PLAYTECH</a>
    <div class="search-bar">
      <input type="text" placeholder="Search products..." />
    </div>
    <div class="cart-container">
      <button class="cart-button" id="cart-btn" onclick="window.location.href='cart.html'">
        üõí <span class="cart-count" id="cart-count">0</span>
      </button>
    </div>
  </header>

  <div id="cart-added-note" class="cart-notification">Added to cart!</div>

  <section class="hero-banner">
    <h1>Level Up Your Setup</h1>
    <p>Explore cutting-edge peripherals and components to optimize your experience.</p>
    <a href="components.html" class="btn">Shop Now</a>
  </section>

  <section class="featured-products">
    <h2>Featured Products</h2>
    <div class="product-grid">
      <div class="product-card">
        <div class="product-image" style="background-image: url('public/images/keyboard.png');"></div>
        <h3>RGB Pro Keyboard</h3>
        <p>Compact and vibrant mechanical keyboard with custom lighting.</p>
        <p class="price">$79.99</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="product-card">
        <div class="product-image" style="background-image: url('public/images/mouse.png');"></div>
        <h3>SilentTouch Mouse</h3>
        <p>Ergonomic design with silent clicks and customizable buttons.</p>
        <p class="price">$49.99</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
      <div class="product-card">
        <div class="product-image" style="background-image: url('public/images/monitor.png');"></div>
        <h3>UltraSharp Monitor</h3>
        <p>27‚Äù 144Hz IPS display with vivid color accuracy and fast response.</p>
        <p class="price">$229.99</p>
        <button class="add-to-cart">Add to Cart</button>
      </div>
    </div>
  </section>

  <section class="showcase">
    <div id="three-container"></div>
  </section>

  <footer>
    <div class="footer-columns">
      <div class="footer-column">
        <h3>Shop</h3>
        <ul>
          <li><a href="keyboards.html">Keyboards</a></li>
          <li><a href="mice.html">Mice</a></li>
          <li><a href="monitors.html">Monitors</a></li>
          <li><a href="components.html">Components</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Support</h3>
        <ul>
          <li><a href="support.html#contact">Contact Us</a></li>
          <li><a href="support.html#faqs">FAQs</a></li>
          <li><a href="support.html#warranty">Warranty & Returns</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Company</h3>
        <ul>
          <li><a href="index.html#about">About Us</a></li>
          <li><a href="index.html#top-banner">Home</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Connect</h3>
        <div class="social-links">
          <a href="https://www.facebook.com" target="_blank"><img src="public/images/facebook.png" alt="Facebook" /></a>
          <a href="https://twitter.com" target="_blank"><img src="public/images/x.png" alt="Twitter/X" /></a>
          <a href="https://www.instagram.com" target="_blank"><img src="public/images/instagram.png" alt="Instagram" /></a>
          <a href="https://www.youtube.com" target="_blank"><img src="public/images/youtube.png" alt="YouTube" /></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 PLAYTECH. All rights reserved.</p>
    </div>
  </footer>

  <!-- Your main Three.js + product logic -->
  <script type="module" src="src/main.js"></script>

  <!-- Cart functionality -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cartNote = document.getElementById("cart-added-note");
      const cartButton = document.getElementById("cart-btn");

      function getCart() {
        return JSON.parse(localStorage.getItem("cart")) || [];
      }

      function updateCartCount() {
        document.getElementById("cart-count").textContent = getCart().length;
      }

      function handleAddToCart(event) {
        const card = event.target.closest(".product-card");
        const name = card.querySelector("h3").textContent;
        const description = card.querySelectorAll("p")[0].textContent;
        const price = card.querySelector(".price").textContent;
        const imageStyle = card.querySelector(".product-image").style.backgroundImage;
        const imageUrl = imageStyle.slice(5, -2);

        const cart = getCart();
        cart.push({ name, description, price, image: imageUrl });
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();

        cartNote.style.display = "block";
        cartButton.classList.add("cart-animate");

        setTimeout(() => {
          cartNote.style.display = "none";
          cartButton.classList.remove("cart-animate");
        }, 1300);
      }

      document.querySelectorAll(".add-to-cart").forEach(button => {
        button.addEventListener("click", handleAddToCart);
      });

      updateCartCount();
    });
  </script>
</body>
</html>
